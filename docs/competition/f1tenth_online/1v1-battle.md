# 1v1 对抗赛 {#1v1-battle}

## 流程简介 {#introduction}
### 比赛规则 {#rules}

1. 比赛采用 1v1 对抗赛，每场比赛由两名选手组成，选手之间采用 1v1 的形式进行对抗。
2. 比赛场地为环形赛道，选手需要完成 3 圈的巡航任务。
3. 比赛开始后，红蓝双方车辆同时启动，开始比赛。
4. 比赛过程中，选手需要控制自己的车辆完成赛道巡航任务，避免与对方车辆发生碰撞。
5. 比赛结束后，根据选手完成赛道巡航任务的时间和碰撞次数进行评分。
6. 比赛结束后，根据裁判系统评分结果进行排名，排名靠前的选手获得胜利。

### 比赛场地 {#field}
红蓝双方车辆的初始位置和方向如下：

![](https://tianbot-pic.oss-cn-beijing.aliyuncs.com/tianbot-pic/Tianbot-Doc20240805162453.png)

两辆小车位于赛道两端，红蓝双方分别控制其中一辆小车，比赛开始后，红蓝双方小车同时启动，开始比赛。

::: tip 提示
红蓝双方小车初始位置在 `x`上略有不同，2 辆`小车的使用权通过现场抓阄确定`。
:::

![](https://tianbot-pic.oss-cn-beijing.aliyuncs.com/tianbot-pic/Tianbot-Doc20240805164609.png)

开始比赛红蓝双方各自启动裁判系统，同预选赛流程一样，裁判系统会自动启动 5 分钟计时器，比赛开始。

### 比赛结果 {#result}

比赛结束后，裁判系统会自动统计用时及得分结果，并显示在屏幕上。比赛结果包括：

1. 比赛时间：选手完成所有任务所需的时间。
2. 比赛成绩：选手完成所有任务所获得的分数。

![](https://tianbot-pic.oss-cn-beijing.aliyuncs.com/tianbot-pic/Tianbot-Doc20240805163650.png)


## 操作细则 {#operation}

双方选手需自带电脑，并提前安装好比赛所需软件，比赛开始前，裁判员会向选手介绍比赛规则和注意事项，并提醒选手在比赛过程中保持冷静，遵守比赛规则。

### 多机通信 {#multi-machine-communication}

1. 比赛开始前，红蓝双方选手需将自己的电脑连接到比赛场地中的组织方指定的无线网络（路由器），并确保网络连接稳定。
2. 根据 [ROS 多机通信](https://docs.tianbot.com/basic/ros/multi_machine_communicate.html)规则，红蓝双方选手需将自己的电脑设置为 ROS 从机设备，并使用 ROS 通信协议进行通信。

::: tip 提示
红蓝双方选手需提前设置好 ROS 主机地址和从机地址，以便在比赛过程中进行通信。

- 假设启动仿真环境的主机 IP 地址为 `192.168.1.100`
- 红方选手的 ip 地址为 `192.168.1.1`
- 蓝方选手的 ip 地址为 `192.168.1.2`            

则红蓝双方选手应各自运行`gedit ~/.bashrc`命令，并添加相对应内容以设置 ROS 环境变量
- 红方

```bash
export ROS_MASTER_URI=http://192.168.1.100:11311         # 设置 为启动仿真环境的主机地址
export ROS_IP=192.168.1.1                                # 设置为从机地址
```

- 蓝方
```bash
export ROS_MASTER_URI=http://192.168.1.100:11311         # 设置 为启动仿真环境的主机地址
export ROS_IP=192.168.1.2                                # 设置为从机地址
```
:::

3. 配置完成后，允许向`tianracer_01/cmd_vel`及`tianracer_02/cmd_vel`发送控制指令，测试连通性
![](https://tianbot-pic.oss-cn-beijing.aliyuncs.com/tianbot/202109241858758.webp)

### 注意事项 {#attention}

1. 比赛过程中，选手需保持冷静，遵守比赛规则，避免与对方车辆发生碰撞。
2. 比赛过程中，选手需保持电脑的无线网络连接稳定，避免网络中断导致比赛中断。
3. 比赛结束后，选手需将自己的电脑连接到比赛场地中的无线网络，并确保网络连接稳定。
4. 比赛过程中，选手不得使用任何作弊手段，一经发现，将取消比赛资格。
5. 比赛过程中，选手不得干扰对方车辆，一经发现，将取消比赛资格。