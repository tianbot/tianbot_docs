# 比赛规则 {# contest-rules}

## 一、比赛简介
无人车竞速赛线上仿真赛以ROS机器人操作系统为核心,参赛者Gazebo仿真平台中进行竞赛，Gazebo仿真平台是一个独立的开源机器人仿真平台，支持多种开源物理引擎，能够模拟机器人常用的传感器（如激光雷达、摄像头、IMU等），在仿真环境中操控无人车，精确模拟各种自动驾驶驾驶情境，如路径规划、传感器模拟和实时数据反馈，以提高无人车的性能和效率，为后续线下竞速赛打下基础，推动自动驾驶技术的前沿，并为未来交通领域的发展贡献力量。

## 二、参赛对象
比赛分为高校组和职工组（含教师）

- 高校组：本科、高职院校、技师学院等全日制在籍在校生。

高校组的比赛为团体赛，2人一组，每所院校（含双跨或双牌学校）最多可选拔4支队伍且不得跨校组队，每支参赛队可指定1-2名指导老师。

- 职工组（含教师）：省内具有人工智能、大数据相关职业工作经历的企业在职人员，从事相关专业工作的高等院校、职业院校(含技工院校)在职人员。

职工组（含教师）比赛为单人赛，每单位最多可选拔4人参赛。

::: tip 注意
参赛选手报名必须保证所提供的个人信息`真实、准确、有效`，否则取消选手参赛资格。
:::

## 三、比赛形式
由`理论知识竞赛环节`、`实践能力竞赛环节`两部分组成，需经过理论知识竞赛后方可选拔参与实践能力竞赛。

`高校组、职工组竞赛`在赛事时长及赛事分值方面，明细如下：

- 总时间为：`180分钟`
- 竞赛总分值：`200分`

::: danger 注意
其中`理论知识竞赛环节`考核总分100分、`实践能力竞赛环节`总分100分。
:::

### 理论部分考核方向

（1）Linux操作系统基础；

（2）Python、C语言编程基础；

（3）ROS机器人操作系统基础；（职工组、高校组）

（4）无人车基础；（职工组、高校组）

（5）自动驾驶算法基础；（职工组、高校组）

（6）人工智能基础。

### 实践能力竞赛考核方向

（1）操作系统和编程：参赛者需要熟练使用ROS机器人操作系统，包括创建ROS节点、消息传递、服务调用等，以在虚拟环境中操作和控制无人车。

（2）路径规划和控制：参赛者需要开发路径规划算法，使无人车能够以最佳方式完成赛道，同时确保避开障碍物和遵守交通规则。

（3）传感器模拟：参赛者必须了解如何模拟和处理传感器数据，如激光雷达、摄像头和IMU数据，以帮助无人车感知和导航环境。

（4）算法优化：为了在比赛中获得最佳成绩，参赛者需要不断改进他们的控制算法，以提高无人车的速度和操控性。

（5）故障排除和问题解决：在仿真比赛中，可能会遇到各种技术挑战和问题，因此参赛者需要具备故障排除和问题解决的能力。

## 四、比赛规则

### 理论知识竞赛

在赛事组委会命题专家组指导下，由各校自行命题采用理论考核方式并考核选拔。

### 实践能力竞赛-线上仿真赛

#### 比赛环境

线上仿真赛由组委会提供统一比赛环境，线上仿真赛使用Gazebo仿真平台进行竞赛，Gazebo仿真平台是一个独立的开源机器人仿真平台，支持多种开源物理引擎，能够模拟机器人常用的传感器（如激光雷达、摄像头、IMU等），为后续线下竞速赛打下基础。

为了降低参加竞赛的门槛，组委会必要情况下会提供统一线上培训，同时并提供已封装好的ROS2GO随身系统。该系统和决赛环境一致。

为保证公平，组委会提供`1-3`种仿真地图，决赛中`随机选取`地图。

![](https://tianbot-pic.oss-cn-beijing.aliyuncs.com/tianbot-pic/Tianbot-Docimage-20231122164115659.png)

#### 评分规则

![](https://tianbot-pic.oss-cn-beijing.aliyuncs.com/tianbot-pic/Tianbot-Doc202310301008327.png)

<p style="text-align:center"> 图1 标准地图 </p>

评分规则分为项目完成分（65%）、竞速分（35%）、作品分（5%-15%）。

`完成分`

本次线上仿真赛将进行3圈比赛测速，由仿真车辆于始发线（A点）启动，依次经过弯道、空地、圆形场地及分叉路口，到达始发线并重复上述步骤三次即完成本项目，获得完成分全部分数，如发现利用漏洞等手段作弊将取消成绩。

每圈有如下的测试点，通过一个测试点，可以得到一个点的分数，三个测试点在图中标记，具体分数分布如下：

| <div style="width:190px">圈数 、 标记点</div> | <div style="width:90px"> A </div> | <div style="width:90px">B</div> | <div style="width:90px">C</div>  |
|:--:|:--:|:--:|:--:|
|第一圈 | 5 | 5 | 5 |
|第二圈	| 5 | 5 | 5 |
|第三圈	| 15 | 10 | 10 |

<p style="text-align:center"> 表1 项目完成分数详情表 </p>

`竞速分`

![](https://tianbot-pic.oss-cn-beijing.aliyuncs.com/tianbot-pic/Tianbot-Doc202310301017492.png)

<p style="text-align: center"> 图2 分数曲线（分数-时间图），以s计算 </p>

积分规则举例：假设三圈最快速度为30s，参赛队最终竞速分数将会通过如下公式计算：

$$ S = \frac {35 * 30}  {max(t, 30)}$$

公式中的`t`为全程运行时间

::: warning 注意
从点击启动开始，到小车通过第三圈的终点线为止，如果遇到长时间未停止的情况，同样会终止计时系统，具体见后文介绍），分数计算之后会取到两位小数进行排名，如发现利用漏洞等手段作弊将取消成绩。
:::

<!-- `额外分`

- 第一种：登录自己的Github账号（团队中有一个即可），打开[https://github.com/tianbot/tianracer](https://github.com/tianbot/tianracer)，并`点击Star按钮`，显示出`Starred`，在测试页面同时显示，此项分值5分。

![](https://tianbot-pic.oss-cn-beijing.aliyuncs.com/tianbot-pic/Tianbot-Doc202310301021856.png)

<p style="text-align:center"> 图3 额外分数图 </p>

::: tip 提示
在录制参赛视频测试时，需要显示出自己的id和点击的star按钮，如图，我们将会在赛后在原有的分数上添加5分。
:::

- 第二种：赛事组委会鼓励参赛队伍开源，参赛队可使用相关代码开源平台如（`Github、Gitee、Gitlab`等）提交参赛使用相关代码、技术报告、视频等，赛事组委会会根据开源情况进行打分，此项分值5-10分。 -->

`作品分`

赛事组委会鼓励`参赛队伍开源和技术交流`，参赛队在线下决赛现场时需录制参赛电脑的`完整`比赛画面，并经由`现场裁判`和`队伍`共同确认后，统一提交经过确认的比赛视频，赛后参赛队伍可对该视频添加讲解说明，包含不限于`相关代码`、`技术实现原理`等，视频时长小于15分钟，此项分值5-15分。

#### 教程参考
- 视频资料：天之博特TIANBOT （Bilibili平台）
- 环境搭建：https://docs.tianbot.com/competition/f1tenth_online/
- 规则答疑： 赛事QQ群
     - 高校组：706863561
     - 职工组：928727503

#### 作品提交
参赛队通过理论知识竞赛进入仿真赛决赛后，需在满足上述比赛规则的情况下，于比赛现场经确认的参赛视频编辑后，提交给组委会，由组委会发布至统一平台。

- 详细步骤请参考[运行测试和作品提交文档](./test-and-submit.md)

以下为视频录制具体要求

- 视频标准：
视频开头展示的内容需包括： `学校名称、队伍名称、摄制日期`

::: tip 注意
视频时长`15分钟以内`，保证视频简洁明了，建议参赛队伍`适当剪辑`，但`不得添加混淆视听的特效或后期处理`，`不得通过拍摄或剪辑手段造假。一经发现立即取消参赛成绩`。
:::

## 五、附录

### 电子裁判系统终止条件

(1) 第三次穿过终点线，停止计时，并统计分数。

(2) 距离上一次完成标记点检测时间`超过30s，认为系统已经终止`，将会停止计时，并统计分数。

### 赛事组委会

(1) 比赛中必须服从裁判，比赛进行中如发生故障、异常，由裁判做出最终裁决，并做出说明。

(2) 参赛队需要申诉，须由队长以书面形式申请复议，由裁判做出最终裁决。

(3) 赛事组委会拥有对规则的最终解释权，后续如有变更另行通知。